import{i as q,w as h,E as y,L as M,g as l,P as Y,F as p,f as G,G as U,H as x,S as z,I as H,J as $,K as j,M as J,j as L,N as K,R as Q,O as w,Q as V,z as B,T as Z}from"./BCOKWFT3.js";import{p as W}from"./C58JNzD6.js";let c=!1;function X(a){var r=c;try{return c=!1,[a(),c]}finally{c=r}}function C(a){for(var r=L,n=L;r!==null&&!(r.f&(K|Q));)r=r.parent;try{return w(r),a()}finally{w(n)}}function re(a,r,n,v){var T;var m=(n&V)!==0,d=!j||(n&J)!==0,o=(n&x)!==0,D=(n&$)!==0,O=!1,t;o?[t,O]=X(()=>a[r]):t=a[r];var F=z in a||H in a,_=o&&(((T=q(a,r))==null?void 0:T.set)??(F&&r in a&&(e=>a[r]=e)))||void 0,i=v,P=!0,S=!1,b=()=>(S=!0,P&&(P=!1,D?i=h(v):i=v),i);t===void 0&&v!==void 0&&(_&&d&&y(),t=b(),_&&_(t));var f;if(d)f=()=>{var e=a[r];return e===void 0?b():(P=!0,S=!1,e)};else{var g=C(()=>(m?B:Z)(()=>a[r]));g.f|=M,f=()=>{var e=l(g);return e!==void 0&&(i=void 0),e===void 0?i:e}}if(!(n&Y))return f;if(_){var N=a.$$legacy;return function(e,u){return arguments.length>0?((!d||!u||N||O)&&_(u?f():e),e):f()}}var E=!1,A=!1,I=U(t),s=C(()=>B(()=>{var e=f(),u=l(I);return E?(E=!1,A=!0,u):(A=!1,I.v=e)}));return m||(s.equals=p),function(e,u){if(arguments.length>0){const R=u?l(s):d&&o?W(e):e;return s.equals(R)||(E=!0,G(I,R),S&&i!==void 0&&(i=R),h(()=>l(s))),e}return l(s)}}export{re as p};
